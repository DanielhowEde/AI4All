# AI4All Backend Server — Environment Variables
# Copy this to .env and fill in your values.

# ── Server ────────────────────────────────────────────────────────
PORT=3000

# ── Admin authentication ──────────────────────────────────────────
# Set a strong random secret. Workers never use this; it protects the
# /admin/* endpoints (day lifecycle, reward distribution).
ADMIN_KEY=change-me-to-a-secure-random-string

# ── Storage ───────────────────────────────────────────────────────
# File-based event sourcing (default). Data is written to DATA_DIR:
#   data/events/{dayId}.jsonl   — append-only, hash-chained
#   data/snapshots/{dayId}.json — derived cache
#   data/operational.json       — nodeKeys, devices (mutable)
DATA_DIR=./data

# Set to 'memory' to disable persistence (useful for development/testing).
# STORE_BACKEND=memory

# ── Day scheduler ─────────────────────────────────────────────────
# When SCHEDULER_ENABLED=true the server will automatically start and
# finalize the work day on the configured cron schedule.
SCHEDULER_ENABLED=false
SCHEDULER_START_CRON=0 0 * * *
SCHEDULER_FINALIZE_CRON=55 23 * * *
SCHEDULER_TIMEZONE=UTC

# ── Peer management ───────────────────────────────────────────────
# Workers that haven't sent a heartbeat within this window are removed
# from the peer directory. Default: 300 (5 minutes).
PEER_STALE_TTL_SECS=300
